{
	"id": "SUSE-SU-2021:3906-1",
	"modified": "2021-12-03T11:04:20Z",
	"published": "2021-12-03T11:04:20Z",
	"related": [
		"CVE-2021-21996"
	],
	"summary": "Security Beta update for Salt",
	"details": "This update fixes the following issues:\n\nsalt:\n\n- Remove wrong _parse_cpe_name from grains.core\n- Prevent tracebacks if directory for cookie is missing\n- Fix file.find tracebacks with non utf8 file names (bsc#1190114)\n- Fix ip6_interface grain to not leak secondary IPv4 aliases (bsc#1191412)\n- Do not consider skipped targets as failed for ansible.playbooks state (bsc#1190446)\n- Fix traceback.*_exc() calls\n- Fix the regression of docker_container state module\n- Support querying for JSON data in external sql pillar\n- Exclude the full path of a download URL to prevent injection of\n  malicious code (bsc#1190265) (CVE-2021-21996)\n- Fix wrong relative paths resolution with Jinja renderer when importing subdirectories\n- Fix python-MarkupSafe dependency (bsc#1189043)\n- Add missing aarch64 to rpm package architectures\n- Consolidate some state requisites (bsc#1188641)\n- Fix failing unit test for systemd\n- Fix error handling in openscap module (bsc#1188647)\n- Better handling of bad public keys from minions (bsc#1189040)\n- Define license macro as doc in spec file if not existing\n- Add standalone formulas configuration for salt minion and remove salt-master requirement (bsc#1168327)\n- Do noop for services states when running systemd in offline mode (bsc#1187787)\n- Transactional_updates: do not execute states in parallel but use a queue (bsc#1188170)\n- Handle 'master tops' data when states are applied by 'transactional_update' (bsc#1187787)\n- Enhance openscap module: add 'xccdf_eval' call\n- Virt: pass emulator when getting domain capabilities from libvirt\n- Implementation of held/unheld functions for state pkg (bsc#1187813)\n- Fix exception in yumpkg.remove for not installed package\n- Fix save for iptables state module (bsc#1185131)\n- Virt: use /dev/kvm to detect KVM\n- Zypperpkg: improve logic for handling vendorchange flags\n- Add bundled provides for tornado to the spec file\n- Enhance logging when inotify beacon is missing pyinotify (bsc#1186310)\n- Add 'python3-pyinotify' as a recommended package for Salt in SUSE/openSUSE distros\n- Check if dpkgnotify is executable (bsc#1186674)\n- Detect Python version to use inside container (bsc#1167586) (bsc#1164192)\n- Handle volumes on stopped pools in virt.vm_info (bsc#1186287)\n- Grains.extra: support old non-intel kernels (bsc#1180650)\n- Fix missing minion returns in batch mode (bsc#1184659)\n\n",
	"references": [
		{
			"type": "ADVISORY",
			"url": "https://www.suse.com/support/update/announcement/2021/suse-su-20213906-1/"
		},
		{
			"type": "REPORT",
			"url": "https://bugzilla.suse.com/1164192"
		},
		{
			"type": "REPORT",
			"url": "https://bugzilla.suse.com/1167586"
		},
		{
			"type": "REPORT",
			"url": "https://bugzilla.suse.com/1168327"
		},
		{
			"type": "REPORT",
			"url": "https://bugzilla.suse.com/1180650"
		},
		{
			"type": "REPORT",
			"url": "https://bugzilla.suse.com/1184659"
		},
		{
			"type": "REPORT",
			"url": "https://bugzilla.suse.com/1185131"
		},
		{
			"type": "REPORT",
			"url": "https://bugzilla.suse.com/1186287"
		},
		{
			"type": "REPORT",
			"url": "https://bugzilla.suse.com/1186310"
		},
		{
			"type": "REPORT",
			"url": "https://bugzilla.suse.com/1186674"
		},
		{
			"type": "REPORT",
			"url": "https://bugzilla.suse.com/1187787"
		},
		{
			"type": "REPORT",
			"url": "https://bugzilla.suse.com/1187813"
		},
		{
			"type": "REPORT",
			"url": "https://bugzilla.suse.com/1188170"
		},
		{
			"type": "REPORT",
			"url": "https://bugzilla.suse.com/1188641"
		},
		{
			"type": "REPORT",
			"url": "https://bugzilla.suse.com/1188647"
		},
		{
			"type": "REPORT",
			"url": "https://bugzilla.suse.com/1189040"
		},
		{
			"type": "REPORT",
			"url": "https://bugzilla.suse.com/1189043"
		},
		{
			"type": "REPORT",
			"url": "https://bugzilla.suse.com/1190114"
		},
		{
			"type": "REPORT",
			"url": "https://bugzilla.suse.com/1190265"
		},
		{
			"type": "REPORT",
			"url": "https://bugzilla.suse.com/1190446"
		},
		{
			"type": "REPORT",
			"url": "https://bugzilla.suse.com/1191412"
		},
		{
			"type": "WEB",
			"url": "https://www.suse.com/security/cve/CVE-2021-21996"
		}
	]
}
