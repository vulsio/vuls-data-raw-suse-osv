{
	"id": "SUSE-SU-2020:2981-1",
	"modified": "2020-10-21T11:29:25Z",
	"published": "2020-10-21T11:29:25Z",
	"related": [
		"CVE-2020-12351",
		"CVE-2020-12352",
		"CVE-2020-25212",
		"CVE-2020-25645"
	],
	"summary": "Security update for the Linux Kernel",
	"details": "The SUSE Linux Enterprise 12 SP5 kernel was updated to receive various security and bugfixes.\n\nThe following security bugs were fixed:\n\n- CVE-2020-12351: Fixed a type confusion while processing AMP packets aka 'BleedingTooth' aka 'BadKarma' (bsc#1177724).\n- CVE-2020-12352: Fixed an information leak when processing certain AMP packets aka 'BleedingTooth' aka 'BadChoice' (bsc#1177725).\n- CVE-2020-25645: Fixed an issue which traffic between two Geneve endpoints may be unencrypted when IPsec is configured to encrypt traffic for the specific UDP port used by the GENEVE tunnel allowing anyone between the two endpoints to read the traffic unencrypted (bsc#1177511).\n- CVE-2020-25212: Fixed a TOCTOU mismatch in the NFS client code (bsc#1176381).\n\nThe following non-security bugs were fixed:\n\n- btrfs: check the right error variable in btrfs_del_dir_entries_in_log (bsc#1177687).\n- btrfs: do not set the full sync flag on the inode during page release (bsc#1177687).\n- btrfs: fix incorrect updating of log root tree (bsc#1177687).\n- btrfs: fix race between page release and a fast fsync (bsc#1177687).\n- btrfs: only commit delayed items at fsync if we are logging a directory (bsc#1177687).\n- btrfs: only commit the delayed inode when doing a full fsync (bsc#1177687).\n- btrfs: reduce contention on log trees when logging checksums (bsc#1177687).\n- btrfs: release old extent maps during page release (bsc#1177687).\n- btrfs: remove no longer needed use of log_writers for the log root tree (bsc#1177687).\n- btrfs: stop incremening log_batch for the log root tree when syncing log (bsc#1177687).\n- drm/amdgpu: prevent double kfree ttm->sg (git-fixes).\n- drm/nouveau/mem: guard against NULL pointer access in mem_del (git-fixes).\n- drm/sun4i: mixer: Extend regmap max_register (git-fixes).\n- ext4: fix dir_nlink behaviour (bsc#1177359).\n- i2c: meson: fix clock setting overwrite (git-fixes).\n- include/linux/swapops.h: correct guards for non_swap_entry() (git-fixes (mm/swap)).\n- iommu/vt-d: Correctly calculate agaw in domain_init() (bsc#1176400).\n- leds: mt6323: move period calculation (git-fixes).\n- mac80211: do not allow bigger VHT MPDUs than the hardware supports (git-fixes).\n- macsec: avoid use-after-free in macsec_handle_frame() (git-fixes).\n- mfd: sm501: Fix leaks in probe() (git-fixes).\n- mmc: core: do not set limits.discard_granularity as 0 (git-fixes).\n- mm/huge_memory.c: use head to check huge zero page (git-fixes (mm/thp)).\n- mm: hugetlb: switch to css_tryget() in hugetlb_cgroup_charge_cgroup() (git-fixes (mm/hugetlb)).\n- mm/ksm.c: do not WARN if page is still mapped in remove_stable_node() (git-fixes (mm/hugetlb)).\n- mm: memcg: switch to css_tryget() in get_mem_cgroup_from_mm() (bsc#1177685).\n- mm/mempolicy.c: fix out of bounds write in mpol_parse_str() (git-fixes (mm/mempolicy)).\n- mm/mempolicy.c: use match_string() helper to simplify the code (git-fixes (mm/mempolicy)).\n- mm, numa: fix bad pmd by atomically check for pmd_trans_huge when marking page tables prot_numa (git-fixes (mm/numa)).\n- mm/page_owner.c: remove drain_all_pages from init_early_allocated_pages (git-fixes (mm/debug)).\n- mm/page-writeback.c: avoid potential division by zero in wb_min_max_ratio() (git-fixes (mm/writeback)).\n- mm/page-writeback.c: improve arithmetic divisions (git-fixes (mm/writeback)).\n- mm/page-writeback.c: use div64_ul() for u64-by-unsigned-long divide (git-fixes (mm/writeback)).\n- mm/rmap: fixup copying of soft dirty and uffd ptes (git-fixes (mm/rmap)).\n- mm/zsmalloc.c: fix build when CONFIG_COMPACTION=n (git-fixes (mm/zsmalloc)).\n- mm/zsmalloc.c: fix race condition in zs_destroy_pool (git-fixes (mm/zsmalloc)).\n- mm/zsmalloc.c: fix the migrated zspage statistics (git-fixes (mm/zsmalloc)).\n- mm/zsmalloc.c: migration can leave pages in ZS_EMPTY indefinitely (git-fixes (mm/zsmalloc)).\n- Move the upstreamed bluetooth fix into sorted section\n- net: wireless: nl80211: fix out-of-bounds access in nl80211_del_key() (git-fixes).\n- NFS: On fatal writeback errors, we need to call nfs_inode_remove_request() (bsc#1177340).\n- NFS: Revalidate the file mapping on all fatal writeback errors (bsc#1177340).\n- NFSv4.1 - backchannel request should hold ref on xprt (bsc#1152624).\n- nvme: add a Identify Namespace Identification Descriptor list quirk (bsc#1174748). add two previous futile attempts to fix the bug to blacklist.conf\n- nvme: Fix ctrl use-after-free during sysfs deletion (bsc#1174748).\n- nvme: fix deadlock caused by ANA update wrong locking (bsc#1174748).\n- nvme: fix possible io failures when removing multipathed ns (bsc#1174748).\n- nvme: make nvme_identify_ns propagate errors back (bsc#1174748). \n- nvme: make nvme_report_ns_ids propagate error back (bsc#1174748).\n- nvme-multipath: do not reset on unknown status (bsc#1174748).\n- nvme: Namepace identification descriptor list is optional (bsc#1174748).\n- nvme: pass status to nvme_error_status (bsc#1174748).\n- nvme-rdma: Avoid double freeing of async event data (bsc#1174748).\n- nvme: return error from nvme_alloc_ns() (bsc#1174748).\n- platform/x86: mlx-platform: Remove PSU EEPROM configuration (git-fixes).\n- powerpc/dma: Fix dma_map_ops::get_required_mask (bsc#1065729).\n- pty: do tty_flip_buffer_push without port->lock in pty_write (git-fixes).\n- scsi: hisi_sas: Add debugfs ITCT file and add file operations (bsc#1140683).\n- scsi: hisi_sas: Add manual trigger for debugfs dump (bsc#1140683).\n- scsi: hisi_sas: Add missing seq_printf() call in hisi_sas_show_row_32() (bsc#1140683).\n- scsi: hisi_sas: Change return variable type in phy_up_v3_hw() (bsc#1140683).\n- scsi: hisi_sas: Correct memory allocation size for DQ debugfs (bsc#1140683).\n- scsi: hisi_sas: Do some more tidy-up (bsc#1140683).\n- scsi: hisi_sas: Fix a timeout race of driver internal and SMP IO (bsc#1140683).\n- scsi: hisi_sas: Fix type casting and missing static qualifier in debugfs code (bsc#1140683). Refresh:\n- scsi: hisi_sas: No need to check return value of debugfs_create functions (bsc#1140683). Update:\n- scsi: hisi_sas: Some misc tidy-up (bsc#1140683).\n- scsi: qla2xxx: Add IOCB resource tracking (bsc#1176946 bsc#1175520 bsc#1172538).\n- scsi: qla2xxx: Add rport fields in debugfs (bsc#1176946 bsc#1175520 bsc#1172538).\n- scsi: qla2xxx: Add SLER and PI control support (bsc#1176946 bsc#1175520 bsc#1172538).\n- scsi: qla2xxx: Allow dev_loss_tmo setting for FC-NVMe devices (bsc#1176946 bsc#1175520 bsc#1172538).\n- scsi: qla2xxx: Correct the check for sscanf() return value (bsc#1176946 bsc#1175520 bsc#1172538).\n- scsi: qla2xxx: Fix buffer-buffer credit extraction error (bsc#1176946 bsc#1175520 bsc#1172538).\n- scsi: qla2xxx: Fix crash on session cleanup with unload (bsc#1176946 bsc#1175520 bsc#1172538).\n- scsi: qla2xxx: Fix inconsistent format argument type in qla_dbg.c (bsc#1176946 bsc#1175520 bsc#1172538).\n- scsi: qla2xxx: Fix inconsistent format argument type in qla_os.c (bsc#1176946 bsc#1175520 bsc#1172538).\n- scsi: qla2xxx: Fix inconsistent format argument type in tcm_qla2xxx.c (bsc#1176946 bsc#1175520 bsc#1172538).\n- scsi: qla2xxx: Fix I/O errors during LIP reset tests (bsc#1176946 bsc#1175520 bsc#1172538).\n- scsi: qla2xxx: Fix I/O failures during remote port toggle testing (bsc#1176946 bsc#1175520 bsc#1172538).\n- scsi: qla2xxx: Fix memory size truncation (bsc#1176946 bsc#1175520 bsc#1172538).\n- scsi: qla2xxx: Fix MPI reset needed message (bsc#1176946 bsc#1175520 bsc#1172538).\n- scsi: qla2xxx: Fix point-to-point (N2N) device discovery issue (bsc#1176946 bsc#1175520 bsc#1172538).\n- scsi: qla2xxx: Fix reset of MPI firmware (bsc#1176946 bsc#1175520 bsc#1172538).\n- scsi: qla2xxx: Honor status qualifier in FCP_RSP per spec (bsc#1176946 bsc#1175520 bsc#1172538).\n- scsi: qla2xxx: Make tgt_port_database available in initiator mode (bsc#1176946 bsc#1175520 bsc#1172538).\n- scsi: qla2xxx: Performance tweak (bsc#1176946 bsc#1175520 bsc#1172538).\n- scsi: qla2xxx: Reduce duplicate code in reporting speed (bsc#1176946 bsc#1175520 bsc#1172538).\n- scsi: qla2xxx: Remove unneeded variable 'rval' (bsc#1176946 bsc#1175520 bsc#1172538).\n- scsi: qla2xxx: Setup debugfs entries for remote ports (bsc#1176946 bsc#1175520 bsc#1172538).\n- scsi: qla2xxx: Update version to 10.02.00.102-k (bsc#1176946 bsc#1175520 bsc#1172538).\n- scsi: qla2xxx: Update version to 10.02.00.103-k (bsc#1176946 bsc#1175520 bsc#1172538).\n- spi: fsl-espi: Only process interrupts for expected events (git-fixes).\n- tty: serial: earlycon dependency (git-fixes).\n- x86, fakenuma: Fix invalid starting node ID (git-fixes (mm/x86/fakenuma)).\n- x86/xen: disable Firmware First mode for correctable memory errors (bsc#1176713).\n",
	"affected": [
		{
			"package": {
				"ecosystem": "SUSE:Linux Enterprise High Availability Extension 12 SP5",
				"name": "kernel-default",
				"purl": "purl:rpm/suse/kernel-default&distro=SUSE%20Linux%20Enterprise%20High%20Availability%20Extension%2012%20SP5"
			},
			"ranges": [
				{
					"type": "ECOSYSTEM",
					"events": [
						{
							"introduced": "0"
						},
						{
							"fixed": "4.12.14-122.46.1"
						}
					]
				}
			],
			"ecosystem_specific": {
				"binaries": [
					{
						"cluster-md-kmp-default": "4.12.14-122.46.1",
						"dlm-kmp-default": "4.12.14-122.46.1",
						"gfs2-kmp-default": "4.12.14-122.46.1",
						"ocfs2-kmp-default": "4.12.14-122.46.1"
					}
				]
			}
		},
		{
			"package": {
				"ecosystem": "SUSE:Linux Enterprise Live Patching 12 SP5",
				"name": "kernel-default",
				"purl": "purl:rpm/suse/kernel-default&distro=SUSE%20Linux%20Enterprise%20Live%20Patching%2012%20SP5"
			},
			"ranges": [
				{
					"type": "ECOSYSTEM",
					"events": [
						{
							"introduced": "0"
						},
						{
							"fixed": "4.12.14-122.46.1"
						}
					]
				}
			],
			"ecosystem_specific": {
				"binaries": [
					{
						"kernel-default-kgraft": "4.12.14-122.46.1",
						"kernel-default-kgraft-devel": "4.12.14-122.46.1",
						"kgraft-patch-4_12_14-122_46-default": "1-8.5.1"
					}
				]
			}
		},
		{
			"package": {
				"ecosystem": "SUSE:Linux Enterprise Live Patching 12 SP5",
				"name": "kgraft-patch-SLE12-SP5_Update_11",
				"purl": "purl:rpm/suse/kgraft-patch-SLE12-SP5_Update_11&distro=SUSE%20Linux%20Enterprise%20Live%20Patching%2012%20SP5"
			},
			"ranges": [
				{
					"type": "ECOSYSTEM",
					"events": [
						{
							"introduced": "0"
						},
						{
							"fixed": "1-8.5.1"
						}
					]
				}
			],
			"ecosystem_specific": {
				"binaries": [
					{
						"kernel-default-kgraft": "4.12.14-122.46.1",
						"kernel-default-kgraft-devel": "4.12.14-122.46.1",
						"kgraft-patch-4_12_14-122_46-default": "1-8.5.1"
					}
				]
			}
		},
		{
			"package": {
				"ecosystem": "SUSE:Linux Enterprise Software Development Kit 12 SP5",
				"name": "kernel-docs",
				"purl": "purl:rpm/suse/kernel-docs&distro=SUSE%20Linux%20Enterprise%20Software%20Development%20Kit%2012%20SP5"
			},
			"ranges": [
				{
					"type": "ECOSYSTEM",
					"events": [
						{
							"introduced": "0"
						},
						{
							"fixed": "4.12.14-122.46.1"
						}
					]
				}
			],
			"ecosystem_specific": {
				"binaries": [
					{
						"kernel-docs": "4.12.14-122.46.1",
						"kernel-obs-build": "4.12.14-122.46.1"
					}
				]
			}
		},
		{
			"package": {
				"ecosystem": "SUSE:Linux Enterprise Software Development Kit 12 SP5",
				"name": "kernel-obs-build",
				"purl": "purl:rpm/suse/kernel-obs-build&distro=SUSE%20Linux%20Enterprise%20Software%20Development%20Kit%2012%20SP5"
			},
			"ranges": [
				{
					"type": "ECOSYSTEM",
					"events": [
						{
							"introduced": "0"
						},
						{
							"fixed": "4.12.14-122.46.1"
						}
					]
				}
			],
			"ecosystem_specific": {
				"binaries": [
					{
						"kernel-docs": "4.12.14-122.46.1",
						"kernel-obs-build": "4.12.14-122.46.1"
					}
				]
			}
		},
		{
			"package": {
				"ecosystem": "SUSE:Linux Enterprise Server 12 SP5",
				"name": "kernel-default",
				"purl": "purl:rpm/suse/kernel-default&distro=SUSE%20Linux%20Enterprise%20Server%2012%20SP5"
			},
			"ranges": [
				{
					"type": "ECOSYSTEM",
					"events": [
						{
							"introduced": "0"
						},
						{
							"fixed": "4.12.14-122.46.1"
						}
					]
				}
			],
			"ecosystem_specific": {
				"binaries": [
					{
						"kernel-default": "4.12.14-122.46.1",
						"kernel-default-base": "4.12.14-122.46.1",
						"kernel-default-devel": "4.12.14-122.46.1",
						"kernel-default-man": "4.12.14-122.46.1",
						"kernel-devel": "4.12.14-122.46.1",
						"kernel-macros": "4.12.14-122.46.1",
						"kernel-source": "4.12.14-122.46.1",
						"kernel-syms": "4.12.14-122.46.1"
					}
				]
			}
		},
		{
			"package": {
				"ecosystem": "SUSE:Linux Enterprise Server 12 SP5",
				"name": "kernel-source",
				"purl": "purl:rpm/suse/kernel-source&distro=SUSE%20Linux%20Enterprise%20Server%2012%20SP5"
			},
			"ranges": [
				{
					"type": "ECOSYSTEM",
					"events": [
						{
							"introduced": "0"
						},
						{
							"fixed": "4.12.14-122.46.1"
						}
					]
				}
			],
			"ecosystem_specific": {
				"binaries": [
					{
						"kernel-default": "4.12.14-122.46.1",
						"kernel-default-base": "4.12.14-122.46.1",
						"kernel-default-devel": "4.12.14-122.46.1",
						"kernel-default-man": "4.12.14-122.46.1",
						"kernel-devel": "4.12.14-122.46.1",
						"kernel-macros": "4.12.14-122.46.1",
						"kernel-source": "4.12.14-122.46.1",
						"kernel-syms": "4.12.14-122.46.1"
					}
				]
			}
		},
		{
			"package": {
				"ecosystem": "SUSE:Linux Enterprise Server 12 SP5",
				"name": "kernel-syms",
				"purl": "purl:rpm/suse/kernel-syms&distro=SUSE%20Linux%20Enterprise%20Server%2012%20SP5"
			},
			"ranges": [
				{
					"type": "ECOSYSTEM",
					"events": [
						{
							"introduced": "0"
						},
						{
							"fixed": "4.12.14-122.46.1"
						}
					]
				}
			],
			"ecosystem_specific": {
				"binaries": [
					{
						"kernel-default": "4.12.14-122.46.1",
						"kernel-default-base": "4.12.14-122.46.1",
						"kernel-default-devel": "4.12.14-122.46.1",
						"kernel-default-man": "4.12.14-122.46.1",
						"kernel-devel": "4.12.14-122.46.1",
						"kernel-macros": "4.12.14-122.46.1",
						"kernel-source": "4.12.14-122.46.1",
						"kernel-syms": "4.12.14-122.46.1"
					}
				]
			}
		},
		{
			"package": {
				"ecosystem": "SUSE:Linux Enterprise Server for SAP Applications 12 SP5",
				"name": "kernel-default",
				"purl": "purl:rpm/suse/kernel-default&distro=SUSE%20Linux%20Enterprise%20Server%20for%20SAP%20Applications%2012%20SP5"
			},
			"ranges": [
				{
					"type": "ECOSYSTEM",
					"events": [
						{
							"introduced": "0"
						},
						{
							"fixed": "4.12.14-122.46.1"
						}
					]
				}
			],
			"ecosystem_specific": {
				"binaries": [
					{
						"kernel-default": "4.12.14-122.46.1",
						"kernel-default-base": "4.12.14-122.46.1",
						"kernel-default-devel": "4.12.14-122.46.1",
						"kernel-default-man": "4.12.14-122.46.1",
						"kernel-devel": "4.12.14-122.46.1",
						"kernel-macros": "4.12.14-122.46.1",
						"kernel-source": "4.12.14-122.46.1",
						"kernel-syms": "4.12.14-122.46.1"
					}
				]
			}
		},
		{
			"package": {
				"ecosystem": "SUSE:Linux Enterprise Server for SAP Applications 12 SP5",
				"name": "kernel-source",
				"purl": "purl:rpm/suse/kernel-source&distro=SUSE%20Linux%20Enterprise%20Server%20for%20SAP%20Applications%2012%20SP5"
			},
			"ranges": [
				{
					"type": "ECOSYSTEM",
					"events": [
						{
							"introduced": "0"
						},
						{
							"fixed": "4.12.14-122.46.1"
						}
					]
				}
			],
			"ecosystem_specific": {
				"binaries": [
					{
						"kernel-default": "4.12.14-122.46.1",
						"kernel-default-base": "4.12.14-122.46.1",
						"kernel-default-devel": "4.12.14-122.46.1",
						"kernel-default-man": "4.12.14-122.46.1",
						"kernel-devel": "4.12.14-122.46.1",
						"kernel-macros": "4.12.14-122.46.1",
						"kernel-source": "4.12.14-122.46.1",
						"kernel-syms": "4.12.14-122.46.1"
					}
				]
			}
		},
		{
			"package": {
				"ecosystem": "SUSE:Linux Enterprise Server for SAP Applications 12 SP5",
				"name": "kernel-syms",
				"purl": "purl:rpm/suse/kernel-syms&distro=SUSE%20Linux%20Enterprise%20Server%20for%20SAP%20Applications%2012%20SP5"
			},
			"ranges": [
				{
					"type": "ECOSYSTEM",
					"events": [
						{
							"introduced": "0"
						},
						{
							"fixed": "4.12.14-122.46.1"
						}
					]
				}
			],
			"ecosystem_specific": {
				"binaries": [
					{
						"kernel-default": "4.12.14-122.46.1",
						"kernel-default-base": "4.12.14-122.46.1",
						"kernel-default-devel": "4.12.14-122.46.1",
						"kernel-default-man": "4.12.14-122.46.1",
						"kernel-devel": "4.12.14-122.46.1",
						"kernel-macros": "4.12.14-122.46.1",
						"kernel-source": "4.12.14-122.46.1",
						"kernel-syms": "4.12.14-122.46.1"
					}
				]
			}
		},
		{
			"package": {
				"ecosystem": "SUSE:Linux Enterprise Workstation Extension 12 SP5",
				"name": "kernel-default",
				"purl": "purl:rpm/suse/kernel-default&distro=SUSE%20Linux%20Enterprise%20Workstation%20Extension%2012%20SP5"
			},
			"ranges": [
				{
					"type": "ECOSYSTEM",
					"events": [
						{
							"introduced": "0"
						},
						{
							"fixed": "4.12.14-122.46.1"
						}
					]
				}
			],
			"ecosystem_specific": {
				"binaries": [
					{
						"kernel-default-extra": "4.12.14-122.46.1"
					}
				]
			}
		}
	],
	"references": [
		{
			"type": "ADVISORY",
			"url": "https://www.suse.com/support/update/announcement/2020/suse-su-20202981-1/"
		},
		{
			"type": "REPORT",
			"url": "https://bugzilla.suse.com/1065729"
		},
		{
			"type": "REPORT",
			"url": "https://bugzilla.suse.com/1140683"
		},
		{
			"type": "REPORT",
			"url": "https://bugzilla.suse.com/1152624"
		},
		{
			"type": "REPORT",
			"url": "https://bugzilla.suse.com/1172538"
		},
		{
			"type": "REPORT",
			"url": "https://bugzilla.suse.com/1172757"
		},
		{
			"type": "REPORT",
			"url": "https://bugzilla.suse.com/1174748"
		},
		{
			"type": "REPORT",
			"url": "https://bugzilla.suse.com/1175520"
		},
		{
			"type": "REPORT",
			"url": "https://bugzilla.suse.com/1176381"
		},
		{
			"type": "REPORT",
			"url": "https://bugzilla.suse.com/1176400"
		},
		{
			"type": "REPORT",
			"url": "https://bugzilla.suse.com/1176713"
		},
		{
			"type": "REPORT",
			"url": "https://bugzilla.suse.com/1176946"
		},
		{
			"type": "REPORT",
			"url": "https://bugzilla.suse.com/1177027"
		},
		{
			"type": "REPORT",
			"url": "https://bugzilla.suse.com/1177340"
		},
		{
			"type": "REPORT",
			"url": "https://bugzilla.suse.com/1177359"
		},
		{
			"type": "REPORT",
			"url": "https://bugzilla.suse.com/1177511"
		},
		{
			"type": "REPORT",
			"url": "https://bugzilla.suse.com/1177685"
		},
		{
			"type": "REPORT",
			"url": "https://bugzilla.suse.com/1177687"
		},
		{
			"type": "REPORT",
			"url": "https://bugzilla.suse.com/1177724"
		},
		{
			"type": "REPORT",
			"url": "https://bugzilla.suse.com/1177725"
		},
		{
			"type": "WEB",
			"url": "https://www.suse.com/security/cve/CVE-2020-12351"
		},
		{
			"type": "WEB",
			"url": "https://www.suse.com/security/cve/CVE-2020-12352"
		},
		{
			"type": "WEB",
			"url": "https://www.suse.com/security/cve/CVE-2020-25212"
		},
		{
			"type": "WEB",
			"url": "https://www.suse.com/security/cve/CVE-2020-25645"
		}
	]
}
