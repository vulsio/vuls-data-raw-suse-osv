{
	"id": "SUSE-SU-2020:1971-1",
	"modified": "2020-07-21T00:38:31Z",
	"published": "2020-07-21T00:38:31Z",
	"related": [
		"CVE-2019-18897",
		"CVE-2020-11651",
		"CVE-2020-11652"
	],
	"summary": "Security update for Salt",
	"details": "\nThis update fixes the following issues:\n\nsalt:\n\n- Fix for TypeError in Tornado importer (bsc#1174165)\n- Require python3-distro only for TW (bsc#1173072)\n- Various virt backports from 3000.2\n- Avoid traceback on debug logging for swarm module (bsc#1172075)\n- Add publish_batch to ClearFuncs exposed methods\n- Update to salt version 3000\n  See release notes: https://docs.saltstack.com/en/latest/topics/releases/3000.html\n- Zypperpkg: filter patterns that start with dot (bsc#1171906)\n- Batch mode now also correctly provides return value (bsc#1168340)\n- Add docker.logout to docker execution module (bsc#1165572)\n- Testsuite fix\n- Add option to enable/disable force refresh for zypper\n- Python3.8 compatibility changes\n- Prevent sporious 'salt-api' stuck processes when managing SSH minions because of logging deadlock (bsc#1159284)\n- Avoid segfault from 'salt-api' under certain conditions of heavy load managing SSH minions (bsc#1169604)\n- Revert broken changes to slspath made on Salt 3000 (saltstack/salt#56341) (bsc#1170104)\n- Returns a the list of IPs filtered by the optional network list\n- Fix CVE-2020-11651 and CVE-2020-11652 (bsc#1170595)\n- Do not require vendored backports-abc (bsc#1170288)\n- Fix partition.mkpart to work without fstype (bsc#1169800)\n- Enable building and installation for Fedora\n- Disable python2 build on Tumbleweed\n  We are removing the python2 interpreter from openSUSE (SLE16).\n  As such disable salt building for python2 there.\n- More robust remote port detection\n- Sanitize grains loaded from roster_grains.json cache during 'state.pkg'\n- Do not make file.recurse state to fail when msgpack 0.5.4 (bsc#1167437)\n- Build: Buildequire pkgconfig(systemd) instead of systemd\n  pkgconfig(systemd) is provided by systemd, so this is de-facto no change.\n  But inside the Open Build Service (OBS), the same symbol is also provided by\n  systemd-mini, which exists to shorten build-chains by only enabling what other\n  packages need to successfully build\n- Add new custom SUSE capability for saltutil state module\n- Fixes status attribute issue in aptpkg test\n- Make setup.py script not to require setuptools greater than 9.1\n- Loop: fix variable names for until_no_eval\n- Drop conflictive module.run state patch (bsc#1167437)\n- Update patches after rebase with upstream v3000 tag (bsc#1167437)\n- Fix some requirements issues depending on Python3 versions\n- Removes obsolete patch\n- Fix for low rpm_lowpkg unit test\n- Add python-singledispatch as dependency for python2-salt\n- Virt._get_domain: don't raise an exception if there is no VM\n- Fix for temp folder definition in loader unit test\n- Adds test for zypper abbreviation fix\n- Improved storage pool or network handling\n- Better import cache handline\n- Make 'salt.ext.tornado.gen' to use 'salt.ext.backports_abc' on Python 2\n- Fix regression in service states with reload argument\n- Fix integration test failure for test_mod_del_repo_multiline_values\n- Fix for unless requisite when pip is not installed\n- Fix errors from unit tests due NO_MOCK and NO_MOCK_REASON deprecation\n- Fix tornado imports and missing _utils after rebasing patches\n- Removes unresolved merge conflict in yumpkg module\n- Use full option name instead of undocumented abbreviation for zypper\n- Requiring python3-distro only for openSUSE/SLE >= 15 and not for Python 2 builds\n- Avoid possible user escalation upgrading salt-master (bsc#1157465) (CVE-2019-18897)\n- Fix unit tests failures in test_batch_async tests\n- Batch Async: Handle exceptions, properly unregister and close instances after\n  running async batching to avoid CPU starvation of the MWorkers (bsc#1162327)\n- RHEL/CentOS 8 uses platform-python instead of python3\n- Loader: invalidate the import cachefor extra modules\n- Zypperpkg: filter patterns that start with dot (bsc#1171906)\n- Batch mode now also correctly provides return value (bsc#1168340)\n- Add docker.logout to docker execution module (bsc#1165572)\n- Improvements for chroot module\n- Add option to enable/disable force refresh for zypper\n- Prevent sporious 'salt-api' stuck processes when managing SSH minions\n  because of logging deadlock (bsc#1159284)\n- Avoid segfault from 'salt-api' under certain conditions of heavy load\n  managing SSH minions (bsc#1169604)\n\n",
	"affected": [
		{
			"package": {
				"ecosystem": "SUSE:Manager Client Tools 12",
				"name": "python-singledispatch",
				"purl": "purl:rpm/suse/python-singledispatch&distro=SUSE%20Manager%20Client%20Tools%2012"
			},
			"ranges": [
				{
					"type": "ECOSYSTEM",
					"events": [
						{
							"introduced": "0"
						},
						{
							"fixed": "3.4.0.3-1.5.1"
						}
					]
				}
			],
			"ecosystem_specific": {
				"binaries": [
					{
						"python-singledispatch": "3.4.0.3-1.5.1",
						"python2-salt": "3000-46.101.1",
						"python3-salt": "3000-46.101.1",
						"salt": "3000-46.101.1",
						"salt-doc": "3000-46.101.1",
						"salt-minion": "3000-46.101.1"
					}
				]
			}
		},
		{
			"package": {
				"ecosystem": "SUSE:Manager Client Tools 12",
				"name": "salt",
				"purl": "purl:rpm/suse/salt&distro=SUSE%20Manager%20Client%20Tools%2012"
			},
			"ranges": [
				{
					"type": "ECOSYSTEM",
					"events": [
						{
							"introduced": "0"
						},
						{
							"fixed": "3000-46.101.1"
						}
					]
				}
			],
			"ecosystem_specific": {
				"binaries": [
					{
						"python-singledispatch": "3.4.0.3-1.5.1",
						"python2-salt": "3000-46.101.1",
						"python3-salt": "3000-46.101.1",
						"salt": "3000-46.101.1",
						"salt-doc": "3000-46.101.1",
						"salt-minion": "3000-46.101.1"
					}
				]
			}
		},
		{
			"package": {
				"ecosystem": "SUSE:Linux Enterprise Module for Advanced Systems Management 12",
				"name": "python-singledispatch",
				"purl": "purl:rpm/suse/python-singledispatch&distro=SUSE%20Linux%20Enterprise%20Module%20for%20Advanced%20Systems%20Management%2012"
			},
			"ranges": [
				{
					"type": "ECOSYSTEM",
					"events": [
						{
							"introduced": "0"
						},
						{
							"fixed": "3.4.0.3-1.5.1"
						}
					]
				}
			],
			"ecosystem_specific": {
				"binaries": [
					{
						"python-singledispatch": "3.4.0.3-1.5.1",
						"python2-salt": "3000-46.101.1",
						"salt": "3000-46.101.1",
						"salt-api": "3000-46.101.1",
						"salt-bash-completion": "3000-46.101.1",
						"salt-cloud": "3000-46.101.1",
						"salt-doc": "3000-46.101.1",
						"salt-master": "3000-46.101.1",
						"salt-minion": "3000-46.101.1",
						"salt-proxy": "3000-46.101.1",
						"salt-ssh": "3000-46.101.1",
						"salt-standalone-formulas-configuration": "3000-46.101.1",
						"salt-syndic": "3000-46.101.1",
						"salt-zsh-completion": "3000-46.101.1"
					}
				]
			}
		},
		{
			"package": {
				"ecosystem": "SUSE:Linux Enterprise Module for Advanced Systems Management 12",
				"name": "salt",
				"purl": "purl:rpm/suse/salt&distro=SUSE%20Linux%20Enterprise%20Module%20for%20Advanced%20Systems%20Management%2012"
			},
			"ranges": [
				{
					"type": "ECOSYSTEM",
					"events": [
						{
							"introduced": "0"
						},
						{
							"fixed": "3000-46.101.1"
						}
					]
				}
			],
			"ecosystem_specific": {
				"binaries": [
					{
						"python-singledispatch": "3.4.0.3-1.5.1",
						"python2-salt": "3000-46.101.1",
						"salt": "3000-46.101.1",
						"salt-api": "3000-46.101.1",
						"salt-bash-completion": "3000-46.101.1",
						"salt-cloud": "3000-46.101.1",
						"salt-doc": "3000-46.101.1",
						"salt-master": "3000-46.101.1",
						"salt-minion": "3000-46.101.1",
						"salt-proxy": "3000-46.101.1",
						"salt-ssh": "3000-46.101.1",
						"salt-standalone-formulas-configuration": "3000-46.101.1",
						"salt-syndic": "3000-46.101.1",
						"salt-zsh-completion": "3000-46.101.1"
					}
				]
			}
		},
		{
			"package": {
				"ecosystem": "SUSE:Linux Enterprise Point of Sale 12 SP2",
				"name": "python-singledispatch",
				"purl": "purl:rpm/suse/python-singledispatch&distro=SUSE%20Linux%20Enterprise%20Point%20of%20Sale%2012%20SP2"
			},
			"ranges": [
				{
					"type": "ECOSYSTEM",
					"events": [
						{
							"introduced": "0"
						},
						{
							"fixed": "3.4.0.3-1.5.1"
						}
					]
				}
			],
			"ecosystem_specific": {
				"binaries": [
					{
						"python-singledispatch": "3.4.0.3-1.5.1",
						"python2-salt": "3000-46.101.1",
						"salt": "3000-46.101.1",
						"salt-minion": "3000-46.101.1"
					}
				]
			}
		},
		{
			"package": {
				"ecosystem": "SUSE:Linux Enterprise Point of Sale 12 SP2",
				"name": "salt",
				"purl": "purl:rpm/suse/salt&distro=SUSE%20Linux%20Enterprise%20Point%20of%20Sale%2012%20SP2"
			},
			"ranges": [
				{
					"type": "ECOSYSTEM",
					"events": [
						{
							"introduced": "0"
						},
						{
							"fixed": "3000-46.101.1"
						}
					]
				}
			],
			"ecosystem_specific": {
				"binaries": [
					{
						"python-singledispatch": "3.4.0.3-1.5.1",
						"python2-salt": "3000-46.101.1",
						"salt": "3000-46.101.1",
						"salt-minion": "3000-46.101.1"
					}
				]
			}
		},
		{
			"package": {
				"ecosystem": "SUSE:Manager Proxy 3.2",
				"name": "python-singledispatch",
				"purl": "purl:rpm/suse/python-singledispatch&distro=SUSE%20Manager%20Proxy%203.2"
			},
			"ranges": [
				{
					"type": "ECOSYSTEM",
					"events": [
						{
							"introduced": "0"
						},
						{
							"fixed": "3.4.0.3-1.5.1"
						}
					]
				}
			],
			"ecosystem_specific": {
				"binaries": [
					{
						"python-singledispatch": "3.4.0.3-1.5.1",
						"python2-salt": "3000-46.101.1",
						"python3-salt": "3000-46.101.1",
						"salt": "3000-46.101.1",
						"salt-minion": "3000-46.101.1"
					}
				]
			}
		},
		{
			"package": {
				"ecosystem": "SUSE:Manager Proxy 3.2",
				"name": "salt",
				"purl": "purl:rpm/suse/salt&distro=SUSE%20Manager%20Proxy%203.2"
			},
			"ranges": [
				{
					"type": "ECOSYSTEM",
					"events": [
						{
							"introduced": "0"
						},
						{
							"fixed": "3000-46.101.1"
						}
					]
				}
			],
			"ecosystem_specific": {
				"binaries": [
					{
						"python-singledispatch": "3.4.0.3-1.5.1",
						"python2-salt": "3000-46.101.1",
						"python3-salt": "3000-46.101.1",
						"salt": "3000-46.101.1",
						"salt-minion": "3000-46.101.1"
					}
				]
			}
		},
		{
			"package": {
				"ecosystem": "SUSE:Manager Server 3.2",
				"name": "python-singledispatch",
				"purl": "purl:rpm/suse/python-singledispatch&distro=SUSE%20Manager%20Server%203.2"
			},
			"ranges": [
				{
					"type": "ECOSYSTEM",
					"events": [
						{
							"introduced": "0"
						},
						{
							"fixed": "3.4.0.3-1.5.1"
						}
					]
				}
			],
			"ecosystem_specific": {
				"binaries": [
					{
						"python-singledispatch": "3.4.0.3-1.5.1",
						"python2-salt": "3000-46.101.1",
						"python3-salt": "3000-46.101.1",
						"salt": "3000-46.101.1",
						"salt-api": "3000-46.101.1",
						"salt-bash-completion": "3000-46.101.1",
						"salt-cloud": "3000-46.101.1",
						"salt-doc": "3000-46.101.1",
						"salt-master": "3000-46.101.1",
						"salt-minion": "3000-46.101.1",
						"salt-proxy": "3000-46.101.1",
						"salt-ssh": "3000-46.101.1",
						"salt-standalone-formulas-configuration": "3000-46.101.1",
						"salt-syndic": "3000-46.101.1",
						"salt-zsh-completion": "3000-46.101.1"
					}
				]
			}
		},
		{
			"package": {
				"ecosystem": "SUSE:Manager Server 3.2",
				"name": "salt",
				"purl": "purl:rpm/suse/salt&distro=SUSE%20Manager%20Server%203.2"
			},
			"ranges": [
				{
					"type": "ECOSYSTEM",
					"events": [
						{
							"introduced": "0"
						},
						{
							"fixed": "3000-46.101.1"
						}
					]
				}
			],
			"ecosystem_specific": {
				"binaries": [
					{
						"python-singledispatch": "3.4.0.3-1.5.1",
						"python2-salt": "3000-46.101.1",
						"python3-salt": "3000-46.101.1",
						"salt": "3000-46.101.1",
						"salt-api": "3000-46.101.1",
						"salt-bash-completion": "3000-46.101.1",
						"salt-cloud": "3000-46.101.1",
						"salt-doc": "3000-46.101.1",
						"salt-master": "3000-46.101.1",
						"salt-minion": "3000-46.101.1",
						"salt-proxy": "3000-46.101.1",
						"salt-ssh": "3000-46.101.1",
						"salt-standalone-formulas-configuration": "3000-46.101.1",
						"salt-syndic": "3000-46.101.1",
						"salt-zsh-completion": "3000-46.101.1"
					}
				]
			}
		}
	],
	"references": [
		{
			"type": "ADVISORY",
			"url": "https://www.suse.com/support/update/announcement/2020/suse-su-20201971-1/"
		},
		{
			"type": "REPORT",
			"url": "https://bugzilla.suse.com/1157465"
		},
		{
			"type": "REPORT",
			"url": "https://bugzilla.suse.com/1159284"
		},
		{
			"type": "REPORT",
			"url": "https://bugzilla.suse.com/1162327"
		},
		{
			"type": "REPORT",
			"url": "https://bugzilla.suse.com/1165572"
		},
		{
			"type": "REPORT",
			"url": "https://bugzilla.suse.com/1167437"
		},
		{
			"type": "REPORT",
			"url": "https://bugzilla.suse.com/1168340"
		},
		{
			"type": "REPORT",
			"url": "https://bugzilla.suse.com/1169604"
		},
		{
			"type": "REPORT",
			"url": "https://bugzilla.suse.com/1169800"
		},
		{
			"type": "REPORT",
			"url": "https://bugzilla.suse.com/1170104"
		},
		{
			"type": "REPORT",
			"url": "https://bugzilla.suse.com/1170288"
		},
		{
			"type": "REPORT",
			"url": "https://bugzilla.suse.com/1170595"
		},
		{
			"type": "REPORT",
			"url": "https://bugzilla.suse.com/1171906"
		},
		{
			"type": "REPORT",
			"url": "https://bugzilla.suse.com/1172075"
		},
		{
			"type": "REPORT",
			"url": "https://bugzilla.suse.com/1173072"
		},
		{
			"type": "REPORT",
			"url": "https://bugzilla.suse.com/1174165"
		},
		{
			"type": "WEB",
			"url": "https://www.suse.com/security/cve/CVE-2019-18897"
		},
		{
			"type": "WEB",
			"url": "https://www.suse.com/security/cve/CVE-2020-11651"
		},
		{
			"type": "WEB",
			"url": "https://www.suse.com/security/cve/CVE-2020-11652"
		}
	]
}
