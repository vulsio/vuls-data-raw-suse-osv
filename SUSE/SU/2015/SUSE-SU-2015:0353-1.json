{
	"id": "SUSE-SU-2015:0353-1",
	"modified": "2015-02-18T01:36:54Z",
	"published": "2015-02-18T01:36:54Z",
	"related": [
		"CVE-2015-0240"
	],
	"summary": "Security update for samba",
	"details": "samba was updated to fix one security issue.\n\nThis security issue was fixed:\n- CVE-2015-0240: Don't call talloc_free on an uninitialized pointer (bnc#917376).\n\nThese non-security issues were fixed:\n- Fix vfs_snapper DBus string handling (bso#11055, bnc#913238).\n- Fix libsmbclient DFS referral handling.\n  + Reuse connections derived from DFS referrals (bso#10123).\n  + Set domain/workgroup based on authentication callback value (bso#11059).\n- pam_winbind: Fix warn_pwd_expire implementation (bso#9056).\n- nsswitch: Fix soname of linux nss_*.so.2 modules (bso#9299).\n- Fix profiles tool (bso#9629).\n- s3-lib: Do not require a password with --use-ccache (bso#10279).\n- s4:dsdb/rootdse: Expand extended dn values with the AS_SYSTEM control (bso#10949).\n- s4-rpc: dnsserver: Fix enumeration of IPv4 and IPv6 addresses (bso#10952).\n- s3:smb2_server: Allow reauthentication without signing (bso#10958).\n- s3-smbclient: Return success if we listed the shares (bso#10960).\n- s3-smbstatus: Fix exit code of profile output (bso#10961).\n- libcli: SMB2: Pure SMB2-only negprot fix to make us behave as a Windows client does (bso#10966).\n- s3: smbd/modules: Fix *allocate* calls to follow POSIX error return convention (bso#10982).\n- Fix 'domain join' by adding 'drsuapi.DsBindInfoFallBack' attribute 'supported_extensions' (bso#11006).\n- idl:drsuapi: Manage all possible lengths of drsuapi_DsBindInfo (bso#11006).\n- winbind: Retry LogonControl RPC in ping-dc after session expiration (bso#11034).\n- yast2-samba-client should be able to specify osName and osVer on AD domain join (bnc#873922).\n- Lookup FSRVP share snums at runtime rather than storing them persistently (bnc#908627).\n- Specify soft dependency for network-online.target in Winbind systemd service file (bnc#889175).\n- Fix spoolss error response marshalling; (bso#10984).\n- pidl/wscript: Remove --with-perl-* options; revert buildtools/wafadmin/ Tools/perl.py back to upstream state (bso#10472).\n- s4-dns: Add support for BIND 9.10 (bso#10620).\n- nmbd fails to accept '--piddir' option; (bso#10711).\n- S3: source3/smbd/process.c::srv_send_smb() returns true on the error path (bso#10880).\n- vfs_glusterfs: Remove 'integer fd' code and store the glfs pointers (bso#10889).\n- s3-nmbd: Fix netbios name truncation (bso#10896).\n- spoolss: Fix handling of bad EnumJobs levels (bso#10898).\n- spoolss: Fix jobid in level 3 EnumJobs response; (bso#10905).\n- s3: nmbd: Ensure NetBIOS names are only 15 characters stored; (bso#10920).\n- s3:smbd: Fix file corruption using 'write cache size != 0'; (bso#10921).\n- pdb_tdb: Fix a TALLOC/SAFE_FREE mixup; (bso#10932).\n- s3-keytab: Fix keytab array NULL termination; (bso#10933).\n- Cleanup add_string_to_array and usage; (bso#10942).\n- Remove and cleanup shares and registry state associated with\n  externally deleted snaphots exposed as shadow copies; (bnc#876312).\n- Use the upstream tar ball, as signature verification is now able to handle\n  compressed archives.\n- Fix leak when closing file descriptor returned from dirfd; (bso#10918).\n- Fix spoolss EnumJobs and GetJob responses; (bso#10905); (bnc#898031).\n  + Fix handling of bad EnumJobs levels; (bso#10898).\n- Remove dependency on gpg-offline as signature checking is implemented in the\n  source validator.\n- s3-libnet: Add libnet_join_get_machine_spns(); (bso#9984).\n- s3-libnet: Make sure we do not overwrite precreated SPNs; (bso#9984).\n- s3-libads: Add all machine account principals to the keytab; (bso#9985).\n- s3: winbindd: Old NT Domain code sets struct winbind_domain->alt_name to\n  be NULL. Ensure this is safe with modern AD-DCs; (bso#10717).\n- Fix unstrcpy; (bso#10735).\n- pthreadpool: Slightly serialize jobs; (bso#10779).\n- s3: smbd: streams - Ensure share mode validation ignores internal opens\n  (op_mid == 0); (bso#10797).\n- s3: smbd:open_file: Open logic fix; Use a more natural check; (bso#10809).\n- vfs_media_harmony: Fix a crash bug; (bso#10813).\n- docs: Mention incompatibility between kernel oplocks and streams_xattr;\n  (bso#10814).\n- nmbd: Send waiting status to systemd; (bso#10816).\n- libcli: Fix a segfault calling smbXcli_req_set_pending() on NULL;\n  (bso#10817).\n- nsswitch: Skip groups we were not able to map; (bso#10824).\n- s3-winbindd: Use correct realm for trusted domains in idmap child;\n  (bso#10826).\n- s3: nmbd: Ensure the main nmbd process doesn't create zombies; (bso#10830).\n- s3: lib: Signal handling - ensure smbrun and change password code save and\n  restore existing SIGCHLD handlers; (bso#10831).\n- idmap_rfc2307: Fix a crash after connection problem to DC; (bso#10837).\n- s3-winbindd: Do not use domain SID from LookupSids for Sids2UnixIDs call;\n  (bso#10838).\n- s3: smb2cli: Query info return length check was reversed; (bso#10848).\n- registry: Don't leave dangling transactions; (bso#10860).\n- Prune idle or hung connections older than 'winbind request timeout';\n  (bso#3204); (bnc#872912).\n",
	"affected": [
		{
			"package": {
				"ecosystem": "SUSE:Linux Enterprise Desktop 12",
				"name": "samba",
				"purl": "purl:rpm/suse/samba&distro=SUSE%20Linux%20Enterprise%20Desktop%2012"
			},
			"ranges": [
				{
					"type": "ECOSYSTEM",
					"events": [
						{
							"introduced": "0"
						},
						{
							"fixed": "4.1.12-16.1"
						}
					]
				}
			],
			"ecosystem_specific": {
				"binaries": [
					{
						"libdcerpc-binding0": "4.1.12-16.1",
						"libdcerpc-binding0-32bit": "4.1.12-16.1",
						"libdcerpc0": "4.1.12-16.1",
						"libdcerpc0-32bit": "4.1.12-16.1",
						"libgensec0": "4.1.12-16.1",
						"libgensec0-32bit": "4.1.12-16.1",
						"libndr-krb5pac0": "4.1.12-16.1",
						"libndr-krb5pac0-32bit": "4.1.12-16.1",
						"libndr-nbt0": "4.1.12-16.1",
						"libndr-nbt0-32bit": "4.1.12-16.1",
						"libndr-standard0": "4.1.12-16.1",
						"libndr-standard0-32bit": "4.1.12-16.1",
						"libndr0": "4.1.12-16.1",
						"libndr0-32bit": "4.1.12-16.1",
						"libnetapi0": "4.1.12-16.1",
						"libnetapi0-32bit": "4.1.12-16.1",
						"libpdb0": "4.1.12-16.1",
						"libpdb0-32bit": "4.1.12-16.1",
						"libregistry0": "4.1.12-16.1",
						"libsamba-credentials0": "4.1.12-16.1",
						"libsamba-credentials0-32bit": "4.1.12-16.1",
						"libsamba-hostconfig0": "4.1.12-16.1",
						"libsamba-hostconfig0-32bit": "4.1.12-16.1",
						"libsamba-util0": "4.1.12-16.1",
						"libsamba-util0-32bit": "4.1.12-16.1",
						"libsamdb0": "4.1.12-16.1",
						"libsamdb0-32bit": "4.1.12-16.1",
						"libsmbclient-raw0": "4.1.12-16.1",
						"libsmbclient-raw0-32bit": "4.1.12-16.1",
						"libsmbclient0": "4.1.12-16.1",
						"libsmbclient0-32bit": "4.1.12-16.1",
						"libsmbconf0": "4.1.12-16.1",
						"libsmbconf0-32bit": "4.1.12-16.1",
						"libsmbldap0": "4.1.12-16.1",
						"libsmbldap0-32bit": "4.1.12-16.1",
						"libtevent-util0": "4.1.12-16.1",
						"libtevent-util0-32bit": "4.1.12-16.1",
						"libwbclient0": "4.1.12-16.1",
						"libwbclient0-32bit": "4.1.12-16.1",
						"samba": "4.1.12-16.1",
						"samba-32bit": "4.1.12-16.1",
						"samba-client": "4.1.12-16.1",
						"samba-client-32bit": "4.1.12-16.1",
						"samba-doc": "4.1.12-16.1",
						"samba-libs": "4.1.12-16.1",
						"samba-libs-32bit": "4.1.12-16.1",
						"samba-winbind": "4.1.12-16.1",
						"samba-winbind-32bit": "4.1.12-16.1"
					}
				]
			}
		},
		{
			"package": {
				"ecosystem": "SUSE:Linux Enterprise Software Development Kit 12",
				"name": "samba",
				"purl": "purl:rpm/suse/samba&distro=SUSE%20Linux%20Enterprise%20Software%20Development%20Kit%2012"
			},
			"ranges": [
				{
					"type": "ECOSYSTEM",
					"events": [
						{
							"introduced": "0"
						},
						{
							"fixed": "4.1.12-16.1"
						}
					]
				}
			],
			"ecosystem_specific": {
				"binaries": [
					{
						"libdcerpc-atsvc-devel": "4.1.12-16.1",
						"libdcerpc-atsvc0": "4.1.12-16.1",
						"libdcerpc-devel": "4.1.12-16.1",
						"libdcerpc-samr-devel": "4.1.12-16.1",
						"libdcerpc-samr0": "4.1.12-16.1",
						"libgensec-devel": "4.1.12-16.1",
						"libndr-devel": "4.1.12-16.1",
						"libndr-krb5pac-devel": "4.1.12-16.1",
						"libndr-nbt-devel": "4.1.12-16.1",
						"libndr-standard-devel": "4.1.12-16.1",
						"libnetapi-devel": "4.1.12-16.1",
						"libpdb-devel": "4.1.12-16.1",
						"libregistry-devel": "4.1.12-16.1",
						"libsamba-credentials-devel": "4.1.12-16.1",
						"libsamba-hostconfig-devel": "4.1.12-16.1",
						"libsamba-policy-devel": "4.1.12-16.1",
						"libsamba-policy0": "4.1.12-16.1",
						"libsamba-util-devel": "4.1.12-16.1",
						"libsamdb-devel": "4.1.12-16.1",
						"libsmbclient-devel": "4.1.12-16.1",
						"libsmbclient-raw-devel": "4.1.12-16.1",
						"libsmbconf-devel": "4.1.12-16.1",
						"libsmbldap-devel": "4.1.12-16.1",
						"libsmbsharemodes-devel": "4.1.12-16.1",
						"libsmbsharemodes0": "4.1.12-16.1",
						"libtevent-util-devel": "4.1.12-16.1",
						"libwbclient-devel": "4.1.12-16.1",
						"samba-core-devel": "4.1.12-16.1",
						"samba-test-devel": "4.1.12-16.1"
					}
				]
			}
		},
		{
			"package": {
				"ecosystem": "SUSE:Linux Enterprise Server 12",
				"name": "samba",
				"purl": "purl:rpm/suse/samba&distro=SUSE%20Linux%20Enterprise%20Server%2012"
			},
			"ranges": [
				{
					"type": "ECOSYSTEM",
					"events": [
						{
							"introduced": "0"
						},
						{
							"fixed": "4.1.12-16.1"
						}
					]
				}
			],
			"ecosystem_specific": {
				"binaries": [
					{
						"libdcerpc-binding0": "4.1.12-16.1",
						"libdcerpc-binding0-32bit": "4.1.12-16.1",
						"libdcerpc0": "4.1.12-16.1",
						"libdcerpc0-32bit": "4.1.12-16.1",
						"libgensec0": "4.1.12-16.1",
						"libgensec0-32bit": "4.1.12-16.1",
						"libndr-krb5pac0": "4.1.12-16.1",
						"libndr-krb5pac0-32bit": "4.1.12-16.1",
						"libndr-nbt0": "4.1.12-16.1",
						"libndr-nbt0-32bit": "4.1.12-16.1",
						"libndr-standard0": "4.1.12-16.1",
						"libndr-standard0-32bit": "4.1.12-16.1",
						"libndr0": "4.1.12-16.1",
						"libndr0-32bit": "4.1.12-16.1",
						"libnetapi0": "4.1.12-16.1",
						"libnetapi0-32bit": "4.1.12-16.1",
						"libpdb0": "4.1.12-16.1",
						"libpdb0-32bit": "4.1.12-16.1",
						"libregistry0": "4.1.12-16.1",
						"libsamba-credentials0": "4.1.12-16.1",
						"libsamba-credentials0-32bit": "4.1.12-16.1",
						"libsamba-hostconfig0": "4.1.12-16.1",
						"libsamba-hostconfig0-32bit": "4.1.12-16.1",
						"libsamba-util0": "4.1.12-16.1",
						"libsamba-util0-32bit": "4.1.12-16.1",
						"libsamdb0": "4.1.12-16.1",
						"libsamdb0-32bit": "4.1.12-16.1",
						"libsmbclient-raw0": "4.1.12-16.1",
						"libsmbclient-raw0-32bit": "4.1.12-16.1",
						"libsmbclient0": "4.1.12-16.1",
						"libsmbclient0-32bit": "4.1.12-16.1",
						"libsmbconf0": "4.1.12-16.1",
						"libsmbconf0-32bit": "4.1.12-16.1",
						"libsmbldap0": "4.1.12-16.1",
						"libsmbldap0-32bit": "4.1.12-16.1",
						"libtevent-util0": "4.1.12-16.1",
						"libtevent-util0-32bit": "4.1.12-16.1",
						"libwbclient0": "4.1.12-16.1",
						"libwbclient0-32bit": "4.1.12-16.1",
						"samba": "4.1.12-16.1",
						"samba-32bit": "4.1.12-16.1",
						"samba-client": "4.1.12-16.1",
						"samba-client-32bit": "4.1.12-16.1",
						"samba-doc": "4.1.12-16.1",
						"samba-libs": "4.1.12-16.1",
						"samba-libs-32bit": "4.1.12-16.1",
						"samba-winbind": "4.1.12-16.1",
						"samba-winbind-32bit": "4.1.12-16.1"
					}
				]
			}
		},
		{
			"package": {
				"ecosystem": "SUSE:Linux Enterprise Server for SAP Applications 12",
				"name": "samba",
				"purl": "purl:rpm/suse/samba&distro=SUSE%20Linux%20Enterprise%20Server%20for%20SAP%20Applications%2012"
			},
			"ranges": [
				{
					"type": "ECOSYSTEM",
					"events": [
						{
							"introduced": "0"
						},
						{
							"fixed": "4.1.12-16.1"
						}
					]
				}
			],
			"ecosystem_specific": {
				"binaries": [
					{
						"libdcerpc-binding0": "4.1.12-16.1",
						"libdcerpc-binding0-32bit": "4.1.12-16.1",
						"libdcerpc0": "4.1.12-16.1",
						"libdcerpc0-32bit": "4.1.12-16.1",
						"libgensec0": "4.1.12-16.1",
						"libgensec0-32bit": "4.1.12-16.1",
						"libndr-krb5pac0": "4.1.12-16.1",
						"libndr-krb5pac0-32bit": "4.1.12-16.1",
						"libndr-nbt0": "4.1.12-16.1",
						"libndr-nbt0-32bit": "4.1.12-16.1",
						"libndr-standard0": "4.1.12-16.1",
						"libndr-standard0-32bit": "4.1.12-16.1",
						"libndr0": "4.1.12-16.1",
						"libndr0-32bit": "4.1.12-16.1",
						"libnetapi0": "4.1.12-16.1",
						"libnetapi0-32bit": "4.1.12-16.1",
						"libpdb0": "4.1.12-16.1",
						"libpdb0-32bit": "4.1.12-16.1",
						"libregistry0": "4.1.12-16.1",
						"libsamba-credentials0": "4.1.12-16.1",
						"libsamba-credentials0-32bit": "4.1.12-16.1",
						"libsamba-hostconfig0": "4.1.12-16.1",
						"libsamba-hostconfig0-32bit": "4.1.12-16.1",
						"libsamba-util0": "4.1.12-16.1",
						"libsamba-util0-32bit": "4.1.12-16.1",
						"libsamdb0": "4.1.12-16.1",
						"libsamdb0-32bit": "4.1.12-16.1",
						"libsmbclient-raw0": "4.1.12-16.1",
						"libsmbclient-raw0-32bit": "4.1.12-16.1",
						"libsmbclient0": "4.1.12-16.1",
						"libsmbclient0-32bit": "4.1.12-16.1",
						"libsmbconf0": "4.1.12-16.1",
						"libsmbconf0-32bit": "4.1.12-16.1",
						"libsmbldap0": "4.1.12-16.1",
						"libsmbldap0-32bit": "4.1.12-16.1",
						"libtevent-util0": "4.1.12-16.1",
						"libtevent-util0-32bit": "4.1.12-16.1",
						"libwbclient0": "4.1.12-16.1",
						"libwbclient0-32bit": "4.1.12-16.1",
						"samba": "4.1.12-16.1",
						"samba-32bit": "4.1.12-16.1",
						"samba-client": "4.1.12-16.1",
						"samba-client-32bit": "4.1.12-16.1",
						"samba-doc": "4.1.12-16.1",
						"samba-libs": "4.1.12-16.1",
						"samba-libs-32bit": "4.1.12-16.1",
						"samba-winbind": "4.1.12-16.1",
						"samba-winbind-32bit": "4.1.12-16.1"
					}
				]
			}
		}
	],
	"references": [
		{
			"type": "ADVISORY",
			"url": "https://www.suse.com/support/update/announcement/2015/suse-su-20150353-1/"
		},
		{
			"type": "REPORT",
			"url": "https://bugzilla.suse.com/872912"
		},
		{
			"type": "REPORT",
			"url": "https://bugzilla.suse.com/873922"
		},
		{
			"type": "REPORT",
			"url": "https://bugzilla.suse.com/876312"
		},
		{
			"type": "REPORT",
			"url": "https://bugzilla.suse.com/889175"
		},
		{
			"type": "REPORT",
			"url": "https://bugzilla.suse.com/898031"
		},
		{
			"type": "REPORT",
			"url": "https://bugzilla.suse.com/908627"
		},
		{
			"type": "REPORT",
			"url": "https://bugzilla.suse.com/913238"
		},
		{
			"type": "REPORT",
			"url": "https://bugzilla.suse.com/917376"
		},
		{
			"type": "WEB",
			"url": "https://www.suse.com/security/cve/CVE-2015-0240"
		}
	]
}
